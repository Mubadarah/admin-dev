import{u as S,d as x,a as g,r as a,b as h,j as s}from"./index-DuvEvaeK.js";import{a as y}from"./subjects-BjPhUBHv.js";import v from"./lessons-step-PEDHj69a.js";import C from"./publish-step-LIgyA4on.js";import E from"./subject-details-step-Dt3Qtbu-.js";import{C as P}from"./index-BSTsVFyk.js";import{S as q}from"./index-ChpcovXS.js";import"./lessons-DW1TOBpR.js";import"./lesson-form-modal-CfLIqq4u.js";import"./index-DCzfojox.js";import"./use-lesson-modal-B91v3slj.js";import"./index-Cia0HMZK.js";import"./Pagination-DmzUxZ-a.js";import"./index-CGiDtKqU.js";import"./index-BTkaI6EM.js";import"./programs-DArSPDIF.js";function J(){const{t:r}=S(),l=x(),{id:t}=g(),[i,p]=a.useState(0),[o,c]=a.useState(null),{data:e}=h({queryKey:["subjects",t],queryFn:()=>y.get({id:t}),enabled:!!t});a.useEffect(()=>{if(e!=null&&e.items){const n=e.items.find(u=>String(u.id)===String(t));n&&c(n)}},[e,t]);const m=()=>{p(i+1)},d=()=>{p(i-1)},b=n=>{switch(n){case 0:return s.jsx(E,{subject:o,onSuccess:u=>{c(u),m()}});case 1:return s.jsx(v,{subjectId:(o==null?void 0:o.id)||t,onNext:m,onPrev:d});case 2:return s.jsx(C,{onFinish:()=>l("/subjects")});default:return null}},f=[{title:r("app.subjects.builder.steps.details")},{title:r("app.subjects.builder.steps.lessons")},{title:r("app.subjects.builder.steps.publish")}],j={marginTop:16};return s.jsxs(P,{title:r("app.subjects.builder.title"),children:[s.jsx(q,{current:i,items:f}),s.jsx("div",{style:j,children:b(i)})]})}export{J as default};
