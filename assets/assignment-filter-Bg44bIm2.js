import{o as g,F as c,b as u,j as e,r as y,p as t,R as S,C as p,S as v,B as h}from"./index-D30dUQcz.js";import{a as w}from"./levels-DdrGcsNV.js";import{a as C}from"./subjects-Bmu98KCm.js";import{C as q}from"./index-Cet01eV5.js";import{S as f}from"./index-BijjHoeW.js";const I=g(a=>({filters:{page:1,pageSize:10},setFilters:s=>a({filters:s}),updateFilter:s=>a(r=>({filters:{...r.filters,...s}})),clearFilters:()=>a({filters:{page:1,pageSize:10}})}));function N({okDisabled:a}){const[s]=c.useForm(),{filters:r,setFilters:j,clearFilters:x}=I(),{data:o}=u({queryKey:["levels"],queryFn:()=>w.get({}),refetchOnWindowFocus:!1}),{data:m}=u({queryKey:["subjects"],queryFn:()=>C.get({}),refetchOnWindowFocus:!1}),i=o==null?void 0:o.items.map(({id:l,name:d})=>({value:l,label:e.jsx("span",{children:d})}));i==null||i.unshift({value:"",label:e.jsx("span",{children:""})});const n=m==null?void 0:m.items.map(({id:l,name:d})=>({value:l,label:e.jsx("span",{children:d})}));n==null||n.unshift({value:"",label:e.jsx("span",{children:""})}),y.useEffect(()=>{s.setFieldsValue({...r})},[r,s]);const F=l=>{j({...l,page:1})},b=()=>{s.resetFields(),x()};return e.jsxs(q,{prefix:"Search",children:[e.jsx("h3",{children:t("common.search")}),e.jsx("br",{}),e.jsx(c,{form:s,onFinish:F,disabled:a,initialValues:r,children:e.jsxs(S,{gutter:[16,16],children:[e.jsx(p,{span:24,lg:6,children:e.jsx(c.Item,{label:t("app.fields.level"),name:"levelId",className:"!mb-0",children:e.jsx(f,{showSearch:!0,options:i})})}),e.jsx(p,{span:24,lg:6,children:e.jsx(c.Item,{label:t("app.fields.subject"),name:"subjectId",className:"!mb-0",children:e.jsx(f,{showSearch:!0,options:n})})}),e.jsx(p,{span:24,lg:12,children:e.jsx("div",{className:"flex justify-end",children:e.jsxs(v,{children:[e.jsx(h,{onClick:b,children:t("common.reset")}),e.jsx(h,{type:"primary",htmlType:"submit",className:"ml-4",children:t("common.search")})]})})})]})})]})}const B=Object.freeze(Object.defineProperty({__proto__:null,default:N},Symbol.toStringTag,{value:"Module"}));export{N as A,B as a,I as u};
