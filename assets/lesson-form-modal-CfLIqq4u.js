import{F as l,r as b,b as f,j as e,p as s,w as y,g as i}from"./index-DuvEvaeK.js";import{a as F}from"./subjects-BjPhUBHv.js";import{S as p}from"./index-DCzfojox.js";function w({title:u,show:d,formValue:t,okDisabled:c,onOk:m,onCancel:h}){const[r]=l.useForm();b.useEffect(()=>{r.setFieldsValue({...t})},[t,r]);const{data:a}=f({queryKey:["subjects"],queryFn:()=>F.get({}),refetchOnWindowFocus:!1}),j=a==null?void 0:a.items.map(({id:o,name:n})=>({value:o,label:e.jsx("span",{children:n})})),x=[{value:"video",label:e.jsx("span",{children:s("app.lessons.types.video")})},{value:"pdf",label:e.jsx("span",{children:s("app.lessons.types.pdf")})},{value:"other",label:e.jsx("span",{children:s("app.lessons.types.other")})}];return e.jsxs(y,{forceRender:!0,title:u,open:d,okButtonProps:{autoFocus:!0,htmlType:"submit",disabled:c},okText:t.id===void 0?s("common.create"):s("common.edit"),cancelText:s("common.cancel"),onCancel:h,modalRender:o=>e.jsx(l,{form:r,initialValues:t,onFinish:n=>m(t.id,n),labelCol:{span:6},wrapperCol:{span:18},layout:"horizontal",children:o}),children:[!t.id&&e.jsx(l.Item,{label:s("app.fields.subject"),name:"subjectId",rules:[{required:!0}],children:e.jsx(p,{showSearch:!0,options:j})}),e.jsx(l.Item,{label:s("app.fields.title"),name:"title",rules:[{required:!0}],children:e.jsx(i,{})}),e.jsx(l.Item,{label:s("app.fields.file type"),name:"type",rules:[{required:!0}],children:e.jsx(p,{showSearch:!0,options:x})}),e.jsx(l.Item,{label:s("app.fields.url"),name:"url",rules:[{required:!0},{type:"url"}],children:e.jsx(i,{})})]})}export{w as default};
