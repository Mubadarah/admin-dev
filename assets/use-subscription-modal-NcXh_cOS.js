import{e as c,r as d,p as s}from"./index-D30dUQcz.js";import{a as i}from"./subscriptions-Dudl_vy_.js";const n={state:"",notes:""};function w(l){const r=c({mutationFn:t=>t.id!==void 0?i.update(t.id,t.data):i.create(t.data),onSuccess:()=>{o(t=>({...t,show:!1,okDisabled:!1})),l()},onError(t,e,a){console.log("onError",t,e,a),o(m=>({...m,okDisabled:!1}))}}),[u,o]=d.useState({formValue:{...n},title:s("common.create"),show:!1,okDisabled:!1,onOk:(t,e)=>{r.mutate({id:t,data:e}),o(a=>({...a,okDisabled:!0}))},onCancel:()=>{o(t=>({...t,show:!1}))}});return{modalProps:u,setModalProps:o,onCreate:t=>{o(e=>({...e,show:!0,...n,title:s("common.create"),formValue:{...n,parentId:(t==null?void 0:t.id)??""}}))},onEdit:t=>{o(e=>({...e,show:!0,title:s("common.edit"),formValue:t}))},mutation:r}}export{w as useSubscriptionModal};
