import{a1 as pe,a2 as we,at as Ne,a5 as be,au as Z,ab as x,r as s,ah as he,av as Oe,Q as M,aw as je,ax as We,ak as ve,ay as Ye,az as Ce,aA as De,aB as Ae,u as Xe,b as te,j,c as qe,T as Ee,S as Le,R as $e,C as ue,f as Ve,aC as _e,I as Ze}from"./index-D30dUQcz.js";import{d as G}from"./dayjs.min-1Tz-y8oh.js";import{a as Ke}from"./assignment-responses-BYWg7bsp.js";import{p as Ge}from"./programs-CIsHGAay.js";import{a as Ue}from"./subscriptions-Dudl_vy_.js";import{a as Qe}from"./tasks-pIWypiar.js";import{C as me}from"./index-Cet01eV5.js";import{G as Je,B as ye,F as ke}from"./Table-Bp26llHA.js";import{i as et,g as tt,a as nt,R as ot,b as at}from"./index-CpcqnRPv.js";import{S as Re}from"./index-BijjHoeW.js";import"./index-CrfLqG3m.js";import"./Pagination-Mf8JmUTt.js";const st=new Z("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),rt=new Z("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),it=new Z("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),lt=new Z("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),ct=new Z("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),dt=new Z("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),ut=e=>{const{componentCls:t,iconCls:o,antCls:n,badgeShadowSize:a,textFontSize:r,textFontSizeSM:i,statusSize:C,dotSize:y,textFontWeight:f,indicatorHeight:l,indicatorHeightSM:u,marginXS:p,calc:$}=e,c=`${n}-scroll-number`,S=Ne(e,(b,{darkColor:N})=>({[`&${t} ${t}-color-${b}`]:{background:N,[`&:not(${t}-count)`]:{color:N},"a:hover &":{background:N}}}));return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},be(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:l,height:l,color:e.badgeTextColor,fontWeight:f,fontSize:r,lineHeight:x(l),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:$(l).div(2).equal(),boxShadow:`0 0 0 ${x(a)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:u,height:u,fontSize:i,lineHeight:x(u),borderRadius:$(u).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${x(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:y,minWidth:y,height:y,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${x(a)} ${e.badgeShadowColor}`},[`${t}-count, ${t}-dot, ${c}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${o}-spin`]:{animationName:dt,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:C,height:C,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:a,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:st,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:p,color:e.colorText,fontSize:e.fontSize}}}),S),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:rt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:it,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:lt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:ct,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${c}-custom-component, ${t}-count`]:{transform:"none"},[`${c}-custom-component, ${c}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[c]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${c}-only`]:{position:"relative",display:"inline-block",height:l,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${c}-only-unit`]:{height:l,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${c}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${c}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},Te=e=>{const{fontHeight:t,lineWidth:o,marginXS:n,colorBorderBg:a}=e,r=t,i=o,C=e.colorTextLightSolid,y=e.colorError,f=e.colorErrorHover;return we(e,{badgeFontHeight:r,badgeShadowSize:i,badgeTextColor:C,badgeColor:y,badgeColorHover:f,badgeShadowColor:a,badgeProcessingDuration:"1.2s",badgeRibbonOffset:n,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},Ie=e=>{const{fontSize:t,lineHeight:o,fontSizeSM:n,lineWidth:a}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*o)-2*a,indicatorHeightSM:t,dotSize:n/2,textFontSize:n,textFontSizeSM:n,textFontWeight:"normal",statusSize:n/2}},mt=pe("Badge",e=>{const t=Te(e);return ut(t)},Ie),gt=e=>{const{antCls:t,badgeFontHeight:o,marginXS:n,badgeRibbonOffset:a,calc:r}=e,i=`${t}-ribbon`,C=`${t}-ribbon-wrapper`,y=Ne(e,(f,{darkColor:l})=>({[`&${i}-color-${f}`]:{background:l,color:l}}));return{[C]:{position:"relative"},[i]:Object.assign(Object.assign(Object.assign(Object.assign({},be(e)),{position:"absolute",top:n,padding:`0 ${x(e.paddingXS)}`,color:e.colorPrimary,lineHeight:x(o),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${i}-text`]:{color:e.badgeTextColor},[`${i}-corner`]:{position:"absolute",top:"100%",width:a,height:a,color:"currentcolor",border:`${x(r(a).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),y),{[`&${i}-placement-end`]:{insetInlineEnd:r(a).mul(-1).equal(),borderEndEndRadius:0,[`${i}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${i}-placement-start`]:{insetInlineStart:r(a).mul(-1).equal(),borderEndStartRadius:0,[`${i}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},pt=pe(["Badge","Ribbon"],e=>{const t=Te(e);return gt(t)},Ie),bt=e=>{const{className:t,prefixCls:o,style:n,color:a,children:r,text:i,placement:C="end",rootClassName:y}=e,{getPrefixCls:f,direction:l}=s.useContext(he),u=f("ribbon",o),p=`${u}-wrapper`,[$,c,S]=pt(u,p),b=Oe(a,!1),N=M(u,`${u}-placement-${C}`,{[`${u}-rtl`]:l==="rtl",[`${u}-color-${a}`]:b},t),v={},O={};return a&&!b&&(v.background=a,O.color=a),$(s.createElement("div",{className:M(p,y,c,S)},r,s.createElement("div",{className:M(N,c),style:Object.assign(Object.assign({},v),n)},s.createElement("span",{className:`${u}-text`},i),s.createElement("div",{className:`${u}-corner`,style:O}))))},Se=e=>{const{prefixCls:t,value:o,current:n,offset:a=0}=e;let r;return a&&(r={position:"absolute",top:`${a}00%`,left:0}),s.createElement("span",{style:r,className:M(`${t}-only-unit`,{current:n})},o)};function ht(e,t,o){let n=e,a=0;for(;(n+10)%10!==t;)n+=o,a+=o;return a}const ft=e=>{const{prefixCls:t,count:o,value:n}=e,a=Number(n),r=Math.abs(o),[i,C]=s.useState(a),[y,f]=s.useState(r),l=()=>{C(a),f(r)};s.useEffect(()=>{const $=setTimeout(l,1e3);return()=>clearTimeout($)},[a]);let u,p;if(i===a||Number.isNaN(a)||Number.isNaN(i))u=[s.createElement(Se,Object.assign({},e,{key:a,current:!0}))],p={transition:"none"};else{u=[];const $=a+10,c=[];for(let v=a;v<=$;v+=1)c.push(v);const S=y<r?1:-1,b=c.findIndex(v=>v%10===i);u=(S<0?c.slice(0,b+1):c.slice(b)).map((v,O)=>{const D=v%10;return s.createElement(Se,Object.assign({},e,{key:v,value:D,offset:S<0?O-b:O,current:O===b}))}),p={transform:`translateY(${-ht(i,a,S)}00%)`}}return s.createElement("span",{className:`${t}-only`,style:p,onTransitionEnd:l},u)};var vt=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]]);return o};const Ct=s.forwardRef((e,t)=>{const{prefixCls:o,count:n,className:a,motionClassName:r,style:i,title:C,show:y,component:f="sup",children:l}=e,u=vt(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:p}=s.useContext(he),$=p("scroll-number",o),c=Object.assign(Object.assign({},u),{"data-show":y,style:i,className:M($,a,r),title:C});let S=n;if(n&&Number(n)%1===0){const b=String(n).split("");S=s.createElement("bdi",null,b.map((N,v)=>s.createElement(ft,{prefixCls:$,count:Number(n),value:N,key:b.length-v})))}return i!=null&&i.borderColor&&(c.style=Object.assign(Object.assign({},i),{boxShadow:`0 0 0 1px ${i.borderColor} inset`})),l?je(l,b=>({className:M(`${$}-custom-component`,b==null?void 0:b.className,r)})):s.createElement(f,Object.assign({},c,{ref:t}),S)});var $t=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]]);return o};const yt=s.forwardRef((e,t)=>{var o,n,a,r,i;const{prefixCls:C,scrollNumberPrefixCls:y,children:f,status:l,text:u,color:p,count:$=null,overflowCount:c=99,dot:S=!1,size:b="default",title:N,offset:v,style:O,className:D,rootClassName:A,classNames:E,styles:d,showZero:R=!1}=e,B=$t(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:I,direction:X,badge:g}=s.useContext(he),h=I("badge",C),[U,ne,oe]=mt(h),L=$>c?`${c}+`:$,T=L==="0"||L===0,Q=$===null||T&&!R,F=(l!=null||p!=null)&&Q,ae=l!=null||!T,P=S&&!T,q=P?"":L,W=s.useMemo(()=>(q==null||q===""||T&&!R)&&!P,[q,T,R,P]),J=s.useRef($);W||(J.current=$);const Y=J.current,V=s.useRef(q);W||(V.current=q);const K=V.current,k=s.useRef(P);W||(k.current=P);const _=s.useMemo(()=>{if(!v)return Object.assign(Object.assign({},g==null?void 0:g.style),O);const H={marginTop:v[1]};return X==="rtl"?H.left=parseInt(v[0],10):H.right=-parseInt(v[0],10),Object.assign(Object.assign(Object.assign({},H),g==null?void 0:g.style),O)},[X,v,O,g==null?void 0:g.style]),z=N??(typeof Y=="string"||typeof Y=="number"?Y:void 0),se=W||!u?null:s.createElement("span",{className:`${h}-status-text`},u),m=!Y||typeof Y!="object"?void 0:je(Y,H=>({style:Object.assign(Object.assign({},_),H.style)})),w=Oe(p,!1),re=M(E==null?void 0:E.indicator,(o=g==null?void 0:g.classNames)===null||o===void 0?void 0:o.indicator,{[`${h}-status-dot`]:F,[`${h}-status-${l}`]:!!l,[`${h}-color-${p}`]:w}),ie={};p&&!w&&(ie.color=p,ie.background=p);const fe=M(h,{[`${h}-status`]:F,[`${h}-not-a-wrapper`]:!f,[`${h}-rtl`]:X==="rtl"},D,A,g==null?void 0:g.className,(n=g==null?void 0:g.classNames)===null||n===void 0?void 0:n.root,E==null?void 0:E.root,ne,oe);if(!f&&F&&(u||ae||!Q)){const H=_.color;return U(s.createElement("span",Object.assign({},B,{className:fe,style:Object.assign(Object.assign(Object.assign({},d==null?void 0:d.root),(a=g==null?void 0:g.styles)===null||a===void 0?void 0:a.root),_)}),s.createElement("span",{className:re,style:Object.assign(Object.assign(Object.assign({},d==null?void 0:d.indicator),(r=g==null?void 0:g.styles)===null||r===void 0?void 0:r.indicator),ie)}),u&&s.createElement("span",{style:{color:H},className:`${h}-status-text`},u)))}return U(s.createElement("span",Object.assign({ref:t},B,{className:fe,style:Object.assign(Object.assign({},(i=g==null?void 0:g.styles)===null||i===void 0?void 0:i.root),d==null?void 0:d.root)}),f,s.createElement(We,{visible:!W,motionName:`${h}-zoom`,motionAppear:!1,motionDeadline:1e3},({className:H})=>{var le,ce;const He=I("scroll-number",y),de=k.current,Fe=M(E==null?void 0:E.indicator,(le=g==null?void 0:g.classNames)===null||le===void 0?void 0:le.indicator,{[`${h}-dot`]:de,[`${h}-count`]:!de,[`${h}-count-sm`]:b==="small",[`${h}-multiple-words`]:!de&&K&&K.toString().length>1,[`${h}-status-${l}`]:!!l,[`${h}-color-${p}`]:w});let ee=Object.assign(Object.assign(Object.assign({},d==null?void 0:d.indicator),(ce=g==null?void 0:g.styles)===null||ce===void 0?void 0:ce.indicator),_);return p&&!w&&(ee=ee||{},ee.background=p),s.createElement(Ct,{prefixCls:He,show:!W,motionClassName:H,className:Fe,count:K,title:z,style:ee,key:"scrollNumber"},m)}),se))}),Me=yt;Me.Ribbon=bt;const St=10,xt=20;function wt(e){const{fullscreen:t,validRange:o,generateConfig:n,locale:a,prefixCls:r,value:i,onChange:C,divRef:y}=e,f=n.getYear(i||n.getNow());let l=f-St,u=l+xt;o&&(l=n.getYear(o[0]),u=n.getYear(o[1])+1);const p=a&&a.year==="年"?"年":"",$=[];for(let c=l;c<u;c++)$.push({label:`${c}${p}`,value:c});return s.createElement(Re,{size:t?void 0:"small",options:$,value:f,className:`${r}-year-select`,onChange:c=>{let S=n.setYear(i,c);if(o){const[b,N]=o,v=n.getYear(S),O=n.getMonth(S);v===n.getYear(N)&&O>n.getMonth(N)&&(S=n.setMonth(S,n.getMonth(N))),v===n.getYear(b)&&O<n.getMonth(b)&&(S=n.setMonth(S,n.getMonth(b)))}C(S)},getPopupContainer:()=>y.current})}function Nt(e){const{prefixCls:t,fullscreen:o,validRange:n,value:a,generateConfig:r,locale:i,onChange:C,divRef:y}=e,f=r.getMonth(a||r.getNow());let l=0,u=11;if(n){const[c,S]=n,b=r.getYear(a);r.getYear(S)===b&&(u=r.getMonth(S)),r.getYear(c)===b&&(l=r.getMonth(c))}const p=i.shortMonths||r.locale.getShortMonths(i.locale),$=[];for(let c=l;c<=u;c+=1)$.push({label:p[c],value:c});return s.createElement(Re,{size:o?void 0:"small",className:`${t}-month-select`,value:f,options:$,onChange:c=>{C(r.setMonth(a,c))},getPopupContainer:()=>y.current})}function Ot(e){const{prefixCls:t,locale:o,mode:n,fullscreen:a,onModeChange:r}=e;return s.createElement(Je,{onChange:({target:{value:i}})=>{r(i)},value:n,size:a?void 0:"small",className:`${t}-mode-switch`},s.createElement(ye,{value:"month"},o.month),s.createElement(ye,{value:"year"},o.year))}function jt(e){const{prefixCls:t,fullscreen:o,mode:n,onChange:a,onModeChange:r}=e,i=s.useRef(null),C=s.useContext(ve),y=s.useMemo(()=>Object.assign(Object.assign({},C),{isFormItemInput:!1}),[C]),f=Object.assign(Object.assign({},e),{fullscreen:o,divRef:i});return s.createElement("div",{className:`${t}-header`,ref:i},s.createElement(ve.Provider,{value:y},s.createElement(wt,Object.assign({},f,{onChange:l=>{a(l,"year")}})),n==="month"&&s.createElement(Nt,Object.assign({},f,{onChange:l=>{a(l,"month")}}))),s.createElement(Ot,Object.assign({},f,{onModeChange:r})))}const Et=e=>{const{calendarCls:t,componentCls:o,fullBg:n,fullPanelBg:a,itemActiveBg:r}=e;return{[t]:Object.assign(Object.assign(Object.assign({},tt(e)),be(e)),{background:n,"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",justifyContent:"flex-end",padding:`${x(e.paddingSM)} 0`,[`${t}-year-select`]:{minWidth:e.yearControlWidth},[`${t}-month-select`]:{minWidth:e.monthControlWidth,marginInlineStart:e.marginXS},[`${t}-mode-switch`]:{marginInlineStart:e.marginXS}}}),[`${t} ${o}-panel`]:{background:a,border:0,borderTop:`${x(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,borderRadius:0,[`${o}-month-panel, ${o}-date-panel`]:{width:"auto"},[`${o}-body`]:{padding:`${x(e.paddingXS)} 0`},[`${o}-content`]:{width:"100%"}},[`${t}-mini`]:{borderRadius:e.borderRadiusLG,[`${t}-header`]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS},[`${o}-panel`]:{borderRadius:`0 0 ${x(e.borderRadiusLG)} ${x(e.borderRadiusLG)}`},[`${o}-content`]:{height:e.miniContentHeight,th:{height:"auto",padding:0,lineHeight:x(e.weekHeight)}},[`${o}-cell::before`]:{pointerEvents:"none"}},[`${t}${t}-full`]:{[`${o}-panel`]:{display:"block",width:"100%",textAlign:"end",background:n,border:0,[`${o}-body`]:{"th, td":{padding:0},th:{height:"auto",paddingInlineEnd:e.paddingSM,paddingBottom:e.paddingXXS,lineHeight:x(e.weekHeight)}}},[`${o}-cell-week ${o}-cell-inner`]:{display:"block",borderRadius:0,borderTop:`${x(e.lineWidthBold)} ${e.lineType} ${e.colorSplit}`,width:"100%",height:e.calc(e.dateValueHeight).add(e.dateContentHeight).add(e.calc(e.paddingXS).div(2)).add(e.lineWidthBold).equal()},[`${o}-cell`]:{"&::before":{display:"none"},"&:hover":{[`${t}-date`]:{background:e.controlItemBgHover}},[`${t}-date-today::before`]:{display:"none"},[`&-in-view${o}-cell-selected`]:{[`${t}-date, ${t}-date-today`]:{background:r}},"&-selected, &-selected:hover":{[`${t}-date, ${t}-date-today`]:{[`${t}-date-value`]:{color:e.colorPrimary}}}},[`${t}-date`]:{display:"block",width:"auto",height:"auto",margin:`0 ${x(e.calc(e.marginXS).div(2).equal())}`,padding:`${x(e.calc(e.paddingXS).div(2).equal())} ${x(e.paddingXS)} 0`,border:0,borderTop:`${x(e.lineWidthBold)} ${e.lineType} ${e.colorSplit}`,borderRadius:0,transition:`background ${e.motionDurationSlow}`,"&-value":{lineHeight:x(e.dateValueHeight),transition:`color ${e.motionDurationSlow}`},"&-content":{position:"static",width:"auto",height:e.dateContentHeight,overflowY:"auto",color:e.colorText,lineHeight:e.lineHeight,textAlign:"start"},"&-today":{borderColor:e.colorPrimary,[`${t}-date-value`]:{color:e.colorText}}}},[`@media only screen and (max-width: ${x(e.screenXS)}) `]:{[t]:{[`${t}-header`]:{display:"block",[`${t}-year-select`]:{width:"50%"},[`${t}-month-select`]:{width:`calc(50% - ${x(e.paddingXS)})`},[`${t}-mode-switch`]:{width:"100%",marginTop:e.marginXS,marginInlineStart:0,"> label":{width:"50%",textAlign:"center"}}}}}}},Rt=e=>Object.assign({fullBg:e.colorBgContainer,fullPanelBg:e.colorBgContainer,itemActiveBg:e.controlItemBgActive,yearControlWidth:80,monthControlWidth:70,miniContentHeight:256},nt(e)),Tt=pe("Calendar",e=>{const t=`${e.componentCls}-calendar`,o=we(e,et(e),{calendarCls:t,pickerCellInnerCls:`${e.componentCls}-cell-inner`,dateValueHeight:e.controlHeightSM,weekHeight:e.calc(e.controlHeightSM).mul(.75).equal(),dateContentHeight:e.calc(e.calc(e.fontHeightSM).add(e.marginXS)).mul(3).add(e.calc(e.lineWidth).mul(2)).equal()});return Et(o)},Rt),Pe=(e,t,o)=>{const{getYear:n}=o;return e&&t&&n(e)===n(t)},ge=(e,t,o)=>{const{getMonth:n}=o;return Pe(e,t,o)&&n(e)===n(t)},xe=(e,t,o)=>{const{getDate:n}=o;return ge(e,t,o)&&n(e)===n(t)},ze=e=>o=>{const{prefixCls:n,className:a,rootClassName:r,style:i,dateFullCellRender:C,dateCellRender:y,monthFullCellRender:f,monthCellRender:l,cellRender:u,fullCellRender:p,headerRender:$,value:c,defaultValue:S,disabledDate:b,mode:N,validRange:v,fullscreen:O=!0,showWeek:D,onChange:A,onPanelChange:E,onSelect:d}=o,{getPrefixCls:R,direction:B,className:I,style:X}=Ye("calendar"),g=R("picker",n),h=`${g}-calendar`,[U,ne,oe]=Tt(g,h),L=e.getNow(),[T,Q]=Ce(()=>c||e.getNow(),{defaultValue:S,value:c}),[F,ae]=Ce("month",{value:N}),P=s.useMemo(()=>F==="year"?"month":"date",[F]),q=s.useCallback(m=>(v?e.isAfter(v[0],m)||e.isAfter(m,v[1]):!1)||!!(b!=null&&b(m)),[b,v]),W=(m,w)=>{E==null||E(m,w)},J=m=>{Q(m),xe(m,T,e)||((P==="date"&&!ge(m,T,e)||P==="month"&&!Pe(m,T,e))&&W(m,F),A==null||A(m))},Y=m=>{ae(m),W(T,m)},V=(m,w)=>{J(m),d==null||d(m,{source:w})},K=s.useCallback((m,w)=>p?p(m,w):C?C(m):s.createElement("div",{className:M(`${g}-cell-inner`,`${h}-date`,{[`${h}-date-today`]:xe(L,m,e)})},s.createElement("div",{className:`${h}-date-value`},String(e.getDate(m)).padStart(2,"0")),s.createElement("div",{className:`${h}-date-content`},u?u(m,w):y==null?void 0:y(m))),[C,y,u,p]),k=s.useCallback((m,w)=>{if(p)return p(m,w);if(f)return f(m);const re=w.locale.shortMonths||e.locale.getShortMonths(w.locale.locale);return s.createElement("div",{className:M(`${g}-cell-inner`,`${h}-date`,{[`${h}-date-today`]:ge(L,m,e)})},s.createElement("div",{className:`${h}-date-value`},re[e.getMonth(m)]),s.createElement("div",{className:`${h}-date-content`},u?u(m,w):l==null?void 0:l(m)))},[f,l,u,p]),[_]=De("Calendar",Ae),z=Object.assign(Object.assign({},_),o.locale),se=(m,w)=>{if(w.type==="date")return K(m,w);if(w.type==="month")return k(m,Object.assign(Object.assign({},w),{locale:z==null?void 0:z.lang}))};return U(s.createElement("div",{className:M(h,{[`${h}-full`]:O,[`${h}-mini`]:!O,[`${h}-rtl`]:B==="rtl"},I,a,r,ne,oe),style:Object.assign(Object.assign({},X),i)},$?$({value:T,type:F,onChange:m=>{V(m,"customize")},onTypeChange:Y}):s.createElement(jt,{prefixCls:h,value:T,generateConfig:e,mode:F,fullscreen:O,locale:z==null?void 0:z.lang,validRange:v,onChange:V,onModeChange:Y}),s.createElement(ot,{value:T,prefixCls:g,locale:z==null?void 0:z.lang,generateConfig:e,cellRender:se,onSelect:m=>{V(m,P)},mode:P,picker:P,disabledDate:q,hideHeader:!0,showWeek:D})))},Be=ze(at);Be.generateCalendar=ze;const{Title:It}=Ee;function Lt(){var O,D,A,E;const{t:e}=Xe(),{data:t,isLoading:o}=te({queryKey:["programs",{pageSize:100}],queryFn:()=>Ge.get({pageSize:100})}),{data:n,isLoading:a}=te({queryKey:["tasks",{pageSize:1e3}],queryFn:()=>Qe.get({pageSize:1e3})}),{data:r,isLoading:i}=te({queryKey:["subscriptions",{pageSize:1e3}],queryFn:()=>Ue.get({pageSize:1e3})}),{data:C,isLoading:y}=te({queryKey:["assignment-responses",{pageSize:1e3}],queryFn:()=>Ke.get({pageSize:1e3})}),f=(t==null?void 0:t.total)??0,l=(r==null?void 0:r.total)??0,u=((O=r==null?void 0:r.items)==null?void 0:O.filter(d=>d.state==="active").length)??0,p=((D=C==null?void 0:C.items)==null?void 0:D.filter(d=>d.status==="graded"||d.status==="published"))??[],$=p.length>0?(p.reduce((d,R)=>d+(R.score||0),0)/p.length).toFixed(1):"0.0",c=((A=n==null?void 0:n.items)==null?void 0:A.filter(d=>G(d.date).isAfter(G())).length)??0,S=[{title:e("app.programs.title"),value:f,loading:o,icon:"solar:backpack-broken",color:"#1890ff"},{title:e("app.activeSubscriptions"),value:u+"/"+l,loading:i,icon:"solar:users-group-rounded-broken",color:"#52c41a"},{title:e("app.averageScore"),value:$,loading:y,icon:"solar:chart-square-broken",color:"#faad14",suffix:"/ 100"},{title:e("app.upcomingTasks"),value:c,loading:a,icon:"solar:calendar-minimalistic-broken",color:"#f5222d"}],b=((E=t==null?void 0:t.items)==null?void 0:E.map(d=>{var B;const R=((B=r==null?void 0:r.items)==null?void 0:B.filter(I=>{var X;return((X=I.program)==null?void 0:X.id)===d.id}).length)??0;return{...d,subscribers:R}}))??[],N=[{title:e("app.programName"),dataIndex:"name",key:"name"},{title:e("app.subscribers"),dataIndex:"subscribers",key:"subscribers",render:d=>j.jsx(qe,{color:"blue",children:d}),sorter:(d,R)=>d.subscribers-R.subscribers},{title:e("app.duration"),key:"duration",render:(d,R)=>j.jsxs(Ee.Text,{type:"secondary",children:[G(R.start).format("YYYY-MM-DD")," - ",G(R.end).format("YYYY-MM-DD")]})}],v=d=>{var B;const R=((B=n==null?void 0:n.items)==null?void 0:B.filter(I=>G(I.date).isSame(d,"day")))??[];return j.jsx("ul",{className:"events m-0 p-0 list-none",children:R.map(I=>j.jsx("li",{children:j.jsx(Me,{status:I.assignment?"error":"processing",text:I.assignment?e("app.tasks.types.assignment"):e("app.tasks.types.lesson")})},I.id))})};return j.jsxs(Le,{direction:"vertical",size:"large",className:"w-full",children:[j.jsx(It,{level:2,children:e("app.dashboard")}),j.jsx($e,{gutter:[16,16],children:S.map(d=>j.jsx(ue,{xs:24,sm:12,lg:6,children:j.jsx(me,{bordered:!1,className:"h-full shadow-sm",children:j.jsx(Ve,{loading:d.loading,active:!0,children:j.jsx(_e,{title:d.title,value:d.value,suffix:d.suffix,prefix:j.jsx(Ze,{icon:d.icon,size:32,style:{color:d.color,marginRight:12}})})})})},d.title))}),j.jsxs($e,{gutter:[16,16],children:[j.jsx(ue,{xs:24,xl:12,children:j.jsx(me,{title:e("app.programStats"),bordered:!1,className:"shadow-sm",children:j.jsx(ke,{dataSource:b,columns:N,rowKey:"id",pagination:{pageSize:5},loading:o||i})})}),j.jsx(ue,{xs:24,xl:12,children:j.jsx(me,{title:e("app.tasksCalendar"),bordered:!1,className:"shadow-sm",children:j.jsx(Be,{fullscreen:!1,cellRender:v})})})]})]})}export{Lt as default};
