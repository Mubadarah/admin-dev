import{u as g,a as u,r as x,b as f,j as e,c as S,S as d,L as j,B as h,I,D as y}from"./index-COD1ISQe.js";import{d as R}from"./dayjs.min-CWT6zsJa.js";import{A as i,a as A}from"./assignment-responses-BSJ4OKt-.js";import{C as D}from"./index-D17wgJ_P.js";import{F as T}from"./Table-rZF-o_Mp.js";import"./index-DjvtY9jd.js";import"./index-B7Fc59nA.js";const b={[i.IN_PROGRESS]:"default",[i.SUBMITTED]:"processing",[i.GRADED]:"warning",[i.PUBLISHED]:"success"};function Y(){const{t:a}=g(),{assignmentId:o}=u(),[t,p]=x.useState({page:1,pageSize:10}),{data:n,isLoading:l,isFetching:c}=f({queryKey:["assignment-responses",o,t],queryFn:()=>A.get({assignmentId:o,...t}),enabled:!!o}),m=[{title:a("app.fields.student"),dataIndex:["student","name"]},{title:a("app.fields.status"),dataIndex:"status",render:s=>e.jsx(S,{color:b[s],children:a(`app.assignmentResponses.statuses.${s}`)})},{title:a("app.fields.score"),dataIndex:"score",render:s=>s??"N/A"},{title:a("app.fields.submittedAt"),dataIndex:"submittedAt",render:s=>s?R(s).format("YYYY-MM-DD HH:mm"):"In Progress"},{title:a("common.action"),key:"operation",align:"right",render:(s,r)=>e.jsx(d,{children:e.jsx(j,{to:`/responses/${r.id}`,children:e.jsx(h,{icon:e.jsx(I,{icon:"solar:pen-bold-duotone"}),size:"small",children:a("common.view-and-grade")})})})}];return e.jsxs(d,{direction:"vertical",size:"large",className:"w-full",children:[e.jsx(y,{children:a("app.assignmentResponses.grid-header")}),e.jsx(D,{children:e.jsx(T,{rowKey:"id",size:"small",columns:m,dataSource:n==null?void 0:n.items,loading:l||c,pagination:{current:t.page,pageSize:t.pageSize,total:n==null?void 0:n.total,onChange:(s,r)=>p({page:s,pageSize:r})}})})]})}export{Y as default};
